webpackJsonp([1,2],{181:function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(80);\n\n\n//////////////////\n// WEBPACK FOOTER\n// multi ./src/index\n// module id = 181\n// module chunks = 1\n\n//# sourceURL=webpack:///multi_./src/index?")},80:function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _react = __webpack_require__(52);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(98);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _Root = __webpack_require__(82);\n\nvar _Root2 = _interopRequireDefault(_Root);\n\n__webpack_require__(83);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_reactDom2.default.render(_react2.default.createElement(_Root2.default, null), document.getElementById('root'));\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 80\n// module chunks = 1\n\n//# sourceURL=webpack:///./src/index.js?")},81:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(52);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Excel = function (_React$Component) {\n  _inherits(Excel, _React$Component);\n\n  function Excel(props) {\n    _classCallCheck(this, Excel);\n\n    var _this = _possibleConstructorReturn(this, (Excel.__proto__ || Object.getPrototypeOf(Excel)).call(this, props));\n\n    _this.createToggleAdd = _this.createToggleAdd.bind(_this);\n    _this.createAdd = _this.createAdd.bind(_this);\n    _this.createSave = _this.createSave.bind(_this);\n\n    _this.readSortBy = _this.readSortBy.bind(_this);\n    _this.readToggleSearch = _this.readToggleSearch.bind(_this);\n    _this.readSearch = _this.readSearch.bind(_this);\n\n    _this.updateShowEditor = _this.updateShowEditor.bind(_this);\n    _this.updateEdit = _this.updateEdit.bind(_this);\n    _this.updateKeyPress = _this.updateKeyPress.bind(_this);\n    _this.update = _this.update.bind(_this);\n\n    _this.delete = _this.delete.bind(_this);\n\n    _this.renderAdd = _this.renderAdd.bind(_this);\n    _this.renderSearch = _this.renderSearch.bind(_this);\n    _this.renderToolbar = _this.renderToolbar.bind(_this);\n    _this.renderTable = _this.renderTable.bind(_this);\n\n    _this.state = {\n      preData: null,\n      newData: null,\n      data: _this.props.initialdata,\n      sortBy: null,\n      isDesc: false,\n      edit: null,\n      isAdd: false,\n      isSearch: false\n    };\n    return _this;\n  }\n\n  _createClass(Excel, [{\n    key: 'createToggleAdd',\n    value: function createToggleAdd() {\n      if (this.state.isAdd) {\n        this.setState({\n          isAdd: false\n        });\n      } else {\n        if (this.state.preData) {\n          this.setState({\n            preData: null,\n            data: this.state.preData\n          });\n        }\n        this.setState({\n          isAdd: true,\n          isSearch: false\n        });\n      }\n    }\n  }, {\n    key: 'createAdd',\n    value: function createAdd(e) {\n      var input = e.target;\n      var titleIndex = e.target.dataset.titleindex;\n      var newRowId = parseInt(titleIndex, 10) + 1;\n      var newLength = this.state.data.reduce(function (acc, cur) {\n        return Math.max(acc.id ? acc.id : acc, cur.id);\n      }, 0) + 1;\n\n      var newObj = void 0;\n      if (!this.state.newData) {\n        newObj = {\n          id: newLength,\n          row: [{ id: newRowId, cell: input.value }]\n        };\n      } else {\n        newObj = this.state.newData.filter(function (obj) {\n          return obj.id === newLength;\n        })[0];\n\n        if (!newObj.row[titleIndex]) {\n          newObj.row = newObj.row.concat([{ id: newRowId, cell: input.value }]);\n        } else {\n          newObj.row[titleIndex].cell = input.value;\n        }\n      }\n      var newData = [newObj].concat(this.state.data);\n      this.setState({ newData: newData });\n    }\n  }, {\n    key: 'createSave',\n    value: function createSave() {\n      var _this2 = this;\n\n      var empties = this.props.headers.filter(function (obj) {\n        return _this2[obj.title].value.trim() === '';\n      });\n      if (empties.length !== 0) {\n        empties = empties.map(function (obj) {\n          return 'Column [ ' + obj.title + ' ] has no data!';\n        });\n        window.alert(empties.join('\\r'));\n        return;\n      }\n\n      this.props.headers.forEach(function (obj) {\n        return _this2[obj.title].value = '';\n      });\n\n      this.setState({\n        data: this.state.newData,\n        newData: null\n      });\n    }\n  }, {\n    key: 'readSortBy',\n    value: function readSortBy(e) {\n      var column = parseInt(e.target.dataset.index, 10);\n      var isDesc = this.state.sortBy === column && !this.state.isDesc;\n      var data = this.state.data.slice().sort(function (a, b) {\n        var cellA = a.row[column].cell;\n        var cellB = b.row[column].cell;\n        var result = void 0;\n        if (isDesc) {\n          result = cellA < cellB ? 1 : -1;\n        } else {\n          result = cellA > cellB ? 1 : -1;\n        }\n        return result;\n      });\n      this.setState({\n        data: data,\n        sortBy: column,\n        isDesc: isDesc\n      });\n    }\n  }, {\n    key: 'readToggleSearch',\n    value: function readToggleSearch() {\n      if (this.state.isSearch) {\n        this.setState({\n          predata: null,\n          data: this.state.preData,\n          isSearch: false\n        });\n      } else {\n        this.setState({\n          preData: this.state.data,\n          isAdd: false,\n          isSearch: true\n        });\n      }\n    }\n  }, {\n    key: 'readSearch',\n    value: function readSearch(e) {\n      var keyword = e.target.value.toLowerCase();\n      if (!keyword) {\n        this.setState({ data: this.state.preData });return;\n      }\n\n      var index = e.target.dataset.index;\n      var searchData = this.state.preData.filter(function (obj) {\n        return obj.row[index].cell.toString().toLowerCase().indexOf(keyword) > -1;\n      });\n      this.setState({ data: searchData });\n    }\n  }, {\n    key: 'readDownload',\n    value: function readDownload(format, ev) {\n      var contents = void 0;\n      if (format === 'json') {\n        contents = JSON.stringify(this.state.data);\n      } else if (format === 'csv') {\n        contents = this.state.data.reduce(function (objResult, rowObj) {\n          return objResult + rowObj.row.reduce(function (rowResult, cellObj, index) {\n            return rowResult + '\"' + cellObj.cell.replace(/\"/g, '\"\"') + '\"' + (index < rowObj.row.length - 1 ? ',' : '');\n          }, '') + '\\n';\n        }, '');\n      }\n      var URL = window.URL || window.webkitURL;\n      var blob = new Blob([contents], { type: 'text/' + format });\n      ev.target.href = URL.createObjectURL(blob);\n      ev.target.download = 'data.' + format;\n    }\n  }, {\n    key: 'updateShowEditor',\n    value: function updateShowEditor(e) {\n      this.setState({\n        edit: {\n          rowIndex: parseInt(e.target.dataset.rowindex, 10),\n          cellIndex: parseInt(e.target.dataset.cellindex, 10)\n        }\n      });\n    }\n  }, {\n    key: 'updateEdit',\n    value: function updateEdit(e) {\n      var input = e.target;\n      var data = this.state.data.slice();\n      data[this.state.edit.rowIndex].row[this.state.edit.cellIndex].cell = input.value;\n      this.setState({ data: data });\n    }\n  }, {\n    key: 'updateKeyPress',\n    value: function updateKeyPress(e) {\n      if (e.key === 'Enter') {\n        this.update(e);\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(e) {\n      e.preventDefault();\n      this.setState({\n        edit: null\n      });\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(e) {\n      var data = this.state.data.slice();\n      var objID = e.target.dataset.objid;\n      var name = this.state.data[e.target.dataset.objindex].row[0].cell;\n      if (!window.confirm('Would you like to DELETE \\u300A' + name + '\\u300B?')) {\n        return;\n      }\n      data = data.filter(function (obj) {\n        return obj.id !== parseInt(objID, 10);\n      });\n      this.setState({ data: data });\n    }\n  }, {\n    key: 'renderAdd',\n    value: function renderAdd() {\n      var _this3 = this;\n\n      if (!this.state.isAdd) {\n        return null;\n      }\n      return _react2.default.createElement(\n        'tr',\n        { className: 'feature__list' },\n        this.props.headers.map(function (obj, titleIndex) {\n          return _react2.default.createElement(\n            'td',\n            { className: 'feature__item', key: obj.id },\n            _react2.default.createElement('input', {\n              className: 'property-input',\n              type: 'text',\n              ref: function ref(c) {\n                return _this3[obj.title] = c;\n              },\n              onChange: _this3.createAdd,\n              placeholder: obj.title + ':',\n              'data-titleIndex': titleIndex\n            })\n          );\n        }),\n        _react2.default.createElement(\n          'td',\n          { className: 'feature__item' },\n          _react2.default.createElement('button', {\n            className: 'feature property-save',\n            onClick: this.createSave\n          })\n        )\n      );\n    }\n  }, {\n    key: 'renderSearch',\n    value: function renderSearch() {\n      if (!this.state.isSearch) {\n        return null;\n      }\n      return _react2.default.createElement(\n        'tr',\n        { className: 'feature__list', onChange: this.readSearch },\n        this.props.headers.map(function (obj, index) {\n          return _react2.default.createElement(\n            'td',\n            { className: 'feature__item', key: obj.id },\n            _react2.default.createElement('input', {\n              className: 'property-input',\n              type: 'text',\n              placeholder: 'keywords',\n              'data-index': index\n            })\n          );\n        }),\n        _react2.default.createElement(\n          'td',\n          { className: 'feature__item' },\n          _react2.default.createElement('button', { className: 'feature property-search' })\n        )\n      );\n    }\n  }, {\n    key: 'renderToolbar',\n    value: function renderToolbar() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'tool__list' },\n        _react2.default.createElement(\n          'button',\n          { className: 'tool__item', onClick: this.readToggleSearch },\n          'Search'\n        ),\n        _react2.default.createElement(\n          'a',\n          {\n            className: 'tool__item',\n            onClick: this.readDownload.bind(this, 'json'),\n            href: 'data.json'\n          },\n          'Export JSON'\n        ),\n        _react2.default.createElement(\n          'a',\n          {\n            className: 'tool__item',\n            onClick: this.readDownload.bind(this, 'csv'),\n            href: 'data.csv'\n          },\n          'Export CSV'\n        )\n      );\n    }\n  }, {\n    key: 'renderTable',\n    value: function renderTable() {\n      var _this4 = this;\n\n      return _react2.default.createElement(\n        'table',\n        { className: 'book__wrapper' },\n        _react2.default.createElement(\n          'thead',\n          { className: 'title__wrapper' },\n          _react2.default.createElement(\n            'tr',\n            { className: 'title__list' },\n            this.props.headers.map(function (obj, index) {\n              var className = 'property-content';\n              if (_this4.state.sortBy === index) {\n                className += _this4.state.isDesc ? ' property-content-asc' : ' property-content-desc';\n              }\n              return _react2.default.createElement(\n                'th',\n                { className: 'title__item', key: obj.id },\n                _react2.default.createElement(\n                  'button',\n                  {\n                    className: className,\n                    'data-index': index,\n                    onClick: _this4.readSortBy\n                  },\n                  obj.title\n                )\n              );\n            }),\n            _react2.default.createElement(\n              'th',\n              { className: 'title__item' },\n              _react2.default.createElement('button', {\n                className: 'feature property-add',\n                onClick: this.createToggleAdd\n              })\n            )\n          )\n        ),\n        _react2.default.createElement(\n          'tbody',\n          { className: 'book__list' },\n          this.renderAdd(),\n          this.renderSearch(),\n          this.state.data.map(function (rowObj, rowIndex) {\n            return _react2.default.createElement(\n              'tr',\n              { className: 'book__item', key: rowObj.id },\n              rowObj.row.map(function (cellObj, cellIndex) {\n                var content = cellObj.cell;\n                var edit = _this4.state.edit;\n                if (edit && edit.rowIndex === rowIndex && edit.cellIndex === cellIndex) {\n                  content = _react2.default.createElement('input', {\n                    className: 'property-edit',\n                    type: 'text',\n                    autoFocus: true,\n                    defaultValue: content,\n                    onChange: _this4.updateEdit,\n                    onKeyPress: _this4.updateKeyPress,\n                    onBlur: _this4.update\n                  });\n                } else {\n                  content = _react2.default.createElement(\n                    'button',\n                    {\n                      className: 'property-read',\n                      'data-rowIndex': rowIndex,\n                      'data-cellIndex': cellIndex,\n                      onClick: _this4.updateShowEditor\n                    },\n                    content\n                  );\n                }\n                return _react2.default.createElement(\n                  'td',\n                  { className: 'book__item__property', key: cellObj.id },\n                  content\n                );\n              }),\n              _react2.default.createElement(\n                'td',\n                { className: 'book__item__property' },\n                _react2.default.createElement('button', {\n                  className: 'feature property-delete',\n                  'data-objid': rowObj.id,\n                  'data-objindex': rowIndex,\n                  onClick: _this4.delete\n                })\n              )\n            );\n          })\n        )\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { className: 'container' },\n        this.renderToolbar(),\n        this.renderTable()\n      );\n    }\n  }]);\n\n  return Excel;\n}(_react2.default.Component);\n\nexports.default = Excel;\n\n\nExcel.propTypes = {\n  headers: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.object).isRequired,\n  initialdata: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.object).isRequired\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Excel.js\n// module id = 81\n// module chunks = 1\n\n//# sourceURL=webpack:///./src/components/Excel.js?")},82:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = __webpack_require__(52);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Excel = __webpack_require__(81);\n\nvar _Excel2 = _interopRequireDefault(_Excel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar headers = [{ id: 1, title: 'Name' }, { id: 2, title: 'Author' }, { id: 3, title: 'Language' }, { id: 4, title: 'Published' }, { id: 5, title: 'Sales' }];\nvar data = [{\n  id: 1,\n  row: [{ id: 1, cell: 'The Lord of thr Rings' }, { id: 2, cell: 'J. R. R. Tolkien' }, { id: 3, cell: 'English' }, { id: 4, cell: '1954-1955' }, { id: 5, cell: '150 million' }]\n}, {\n  id: 2,\n  row: [{ id: 1, cell: 'Le Petit Prince (The Little Prince)' }, { id: 2, cell: 'Antoine de Saint-Exupéry' }, { id: 3, cell: 'French' }, { id: 4, cell: '1943' }, { id: 5, cell: '140 million' }]\n}, {\n  id: 3,\n  row: [{ id: 1, cell: 'Harry Potter and the Philosopher\\'s Stone' }, { id: 2, cell: 'J. K. Rowling' }, { id: 3, cell: 'English' }, { id: 4, cell: '1997' }, { id: 5, cell: '107 million' }]\n}, {\n  id: 4,\n  row: [{ id: 1, cell: 'And Then There Were None' }, { id: 2, cell: 'Agatha Christie' }, { id: 3, cell: 'English' }, { id: 4, cell: '1939' }, { id: 5, cell: '100 million' }]\n}, {\n  id: 5,\n  row: [{ id: 1, cell: 'Dream of the Red Chamber' }, { id: 2, cell: 'Cao Xueqin' }, { id: 3, cell: 'Chinese' }, { id: 4, cell: '1754-1791' }, { id: 5, cell: '100 million' }]\n}, {\n  id: 6,\n  row: [{ id: 1, cell: 'The Hobbit' }, { id: 2, cell: 'J. R. R. Tolkien' }, { id: 3, cell: 'English' }, { id: 4, cell: '1937' }, { id: 5, cell: '100 million' }]\n}, {\n  id: 7,\n  row: [{ id: 1, cell: 'She: A History of Adventure' }, { id: 2, cell: 'H. Rider Haggard' }, { id: 3, cell: 'English' }, { id: 4, cell: '1887' }, { id: 5, cell: '100 million' }]\n}];\n\nfunction Root() {\n  return _react2.default.createElement(\n    'div',\n    null,\n    _react2.default.createElement(_Excel2.default, { headers: headers, initialdata: data })\n  );\n}\n\nexports.default = Root;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Root.js\n// module id = 82\n// module chunks = 1\n\n//# sourceURL=webpack:///./src/components/Root.js?")},83:function(module,exports){eval("// removed by extract-text-webpack-plugin\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/style.scss\n// module id = 83\n// module chunks = 1\n\n//# sourceURL=webpack:///./src/css/style.scss?")}},[181]);